<!-- // src/app/pages/profile/profile.component.html -->
<div class="profile-container">
  <mat-card class="profile-card">
    <mat-card-header class="profile-card-header">
      <mat-card-title>Meu Perfil</mat-card-title>
      <mat-card-subtitle>Visualize e edite suas informações</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <div class="profile-avatar-section">
        <img
          [src]="
            'http://localhost:3000/' + currentUser?.profilePictureUrl ||
            'image-placeholder-user.jpg'
          "
          alt="Foto de Perfil"
          class="profile-image"
        />
        <button
          mat-stroked-button
          color="primary"
          *ngIf="isEditing"
          (click)="fileInput.click()"
        >
          <mat-icon>cloud_upload</mat-icon> Upload Foto
        </button>
        <input
          hidden
          type="file"
          #fileInput
          (change)="onFileSelected($event)"
          accept="image/*"
        />
      </div>

      <form [formGroup]="profileForm" class="profile-form">
        <mat-form-field appearance="outline">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" readonly />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Nome</mat-label>
          <input matInput formControlName="firstName" />
          <mat-error
            *ngIf="
              profileForm.get('firstName')?.hasError('required') &&
              profileForm.get('firstName')?.touched
            "
          >
            Nome é obrigatório.
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Sobrenome</mat-label>
          <input matInput formControlName="lastName" />
          <mat-error
            *ngIf="
              profileForm.get('lastName')?.hasError('required') &&
              profileForm.get('lastName')?.touched
            "
          >
            Sobrenome é obrigatório.
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Telefone</mat-label>
          <input
            matInput
            formControlName="phone"
            placeholder="(XX) XXXXX-XXXX"
          />
          <mat-error
            *ngIf="
              profileForm.get('phone')?.hasError('pattern') &&
              profileForm.get('phone')?.touched
            "
          >
            Formato de telefone inválido.
          </mat-error>
        </mat-form-field>

        <div class="profile-actions">
          <button
            mat-raised-button
            color="primary"
            *ngIf="!isEditing"
            (click)="toggleEditMode()"
          >
            <mat-icon>edit</mat-icon> Editar Perfil
          </button>

          <ng-container *ngIf="isEditing">
            <button
              mat-raised-button
              color="accent"
              (click)="onSave()"
              [disabled]="profileForm.invalid || isLoading"
            >
              <mat-spinner *ngIf="isLoading" [diameter]="20"></mat-spinner>
              <span *ngIf="!isLoading">Salvar</span>
            </button>
            <button mat-stroked-button color="warn" (click)="onCancel()">
              <mat-icon>cancel</mat-icon> Cancelar
            </button>
          </ng-container>

          <button
            mat-stroked-button
            color="basic"
            (click)="navigateToDashboard()"
          >
            <mat-icon>dashboard</mat-icon> Dashboard
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>

<!-- profile base component HTML template  -->
<!-- <div class="profile-container">
  <mat-card class="profile-card">
    <mat-card-header>
      <mat-card-title>Meu Perfil</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="profileForm">
        <mat-form-field appearance="fill">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" />
        </mat-form-field>

        <div class="profile-actions">
          <button
            mat-raised-button
            color="primary"
            *ngIf="!isEditing"
            (click)="toggleEditMode()"
          >
            Editar Perfil
          </button>

          <ng-container *ngIf="isEditing">
            <button
              mat-raised-button
              color="accent"
              (click)="onSave()"
              [disabled]="profileForm.invalid || isLoading"
            >
              <mat-spinner *ngIf="isLoading" [diameter]="20"></mat-spinner>
              Salvar
            </button>
            <button mat-stroked-button color="warn" (click)="onCancel()">
              Cancelar
            </button>
          </ng-container>
          <button
            mat-stroked-button
            color="basic"
            (click)="navigateToDashboard()"
          >
            Dashboard
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div> -->
